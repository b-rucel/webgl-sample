<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>MDN Games: Three.js demo</title>
<style>
body {
  text-align: center;
}
button {
  display: block;
  font-size: inherit;
  margin: auto;
  padding: 0.6em;
}
</style>
</head>
<body>
  <p>[ Here would go the result of WebGL feature detection ]</p>
  <button>Press here to detect WebGLRenderingContext</button>

  <script>
  // Run everything inside window load event handler, to make sure
  // DOM is fully loaded and styled before trying to manipulate it.
  window.addEventListener(
    "load",
    () => {
      const paragraph = document.querySelector("p");
      const button = document.querySelector("button");

      // Adding click event handler to button.
      button.addEventListener("click", detectWebGLContext, false);
      function detectWebGLContext() {
        // Create canvas element. The canvas is not added to the
        // document itself, so it is never displayed in the
        // browser window.
        const canvas = document.createElement("canvas");

        // Get WebGLRenderingContext from canvas element.
        const gl =
          canvas.getContext("webgl") || canvas.getContext("experimental-webgl");

        // Report the result.
        paragraph.textContent =
          gl instanceof WebGLRenderingContext
            ? "Congratulations! Your browser supports WebGL."
            : "Failed. Your browser or device may not support WebGL.";
      }
    },
    false,
  );
  </script>
</body>
</html>
